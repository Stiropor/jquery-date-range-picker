/**
 * jquery-date-range-picker
 * @version v0.14.0
 * @link https://github.com/longbill/jquery-date-range-picker
 * @license MIT
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){"use strict";e.dateRangePickerLanguages={"default":{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},sl:{selected:"Izbrano:",day:"dan",days:"dni",apply:"Zapri","week-1":"po","week-2":"to","week-3":"sr","week-4":"če","week-5":"pe","week-6":"so","week-7":"ne","week-number":"T","month-name":["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],shortcuts:"Bližnjice","custom-values":"Po meri",past:"Pretekli",following:"Naslednji",previous:"Nazaj","prev-week":"teden","prev-month":"mesec","prev-year":"leto",next:"Naprej","next-week":"teden","next-month":"mesec","next-year":"leto","less-than":"Izbrano časovno obdobje ne sme biti daljše kot %d dni","more-than":"Izbrano časovno obdobje ne sme biti krajše kot %d dni","default-more":"Izberite časovno obdobje daljše kot %d dni","default-single":"Izberite datum","default-less":"Izberite časovno obdobje krajše kot %d dni","default-range":"Izberite časovno obdobje med %d in %d dnevi","default-default":"Izberite časovno obdobje",time:"Čas",hour:"ure",minute:"minute"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"}},e.fn.dateRangePicker=function(a){function n(t,a){return a.contains(t.target)||t.target==a||void 0!=a.childNodes&&e.inArray(t.target,a.childNodes)>=0}function s(){function s(t){var n=e(t).parents("table").hasClass("month2"),s=n?a.month2:a.month1;s=F(s),!a.singleMonth&&!a.singleDate&&!n&&V(s,a.month2)>=0||q(s)||(I(s,n?"month2":"month1"),z())}function o(e){var t=F(a.month1),n=F(a.month2);q(n)||!a.singleDate&&V(t,n)>=0||(I(t,"month1"),I(n,"month2"),S())}function i(t){var n=e(t).parents("table").hasClass("month2"),s=n?a.month2:a.month1;s=R(s),n&&V(s,a.month1)<=0||q(s)||(I(s,n?"month2":"month1"),z())}function d(e){var t=R(a.month1),n=R(a.month2);q(t)||!a.singleDate&&V(n,t)<=0||(I(n,"month2"),I(t,"month1"),S())}var l=this;if(e(this).data("date-picker-opened"))return void B();e(this).data("date-picker-opened",!0),se=$().hide(),se.append('<div class="date-range-length-tip"></div>'),e(a.container).append(se),a.inline?se.addClass("inline-wrapper"):r(),a.alwaysOpen&&se.find(".apply-btn").hide();var c=ae();if(ne(c),a.time.enabled)if(a.startDate&&a.endDate||a.start&&a.end)W(t(a.start||a.startDate).toDate(),"time1"),W(t(a.end||a.endDate).toDate(),"time2");else{var m=a.defaultEndTime?a.defaultEndTime:c;W(c,"time1"),W(m,"time2")}var f="";f=te(a.singleDate?"default-single":a.minDays&&a.maxDays?"default-range":a.minDays?"default-more":a.maxDays?"default-less":"default-default"),se.find(".default-top").html(f.replace(/\%d/,a.minDays).replace(/\%d/,a.maxDays)),a.singleMonth?se.addClass("single-month"):se.addClass("two-months"),setTimeout(function(){u(),ie=!0},0),se.click(function(e){e.stopPropagation()}),e(document).on("click.datepicker",function(e){n(e,l[0])||se.is(":visible")&&B()}),se.find(".next").click(function(){a.stickyMonths?o(this):s(this)}),se.find(".prev").click(function(){a.stickyMonths?d(this):i(this)}),se.attr("unselectable","on").css("user-select","none").on("selectstart",function(e){return e.preventDefault(),!1}),se.find(".apply-btn").click(function(){B();var t=A(new Date(a.start))+a.separator+A(new Date(a.end));e(l).trigger("datepicker-apply",{value:t,date1:new Date(a.start),date2:new Date(a.end)})}),se.find("[custom]").click(function(){var t=e(this).attr("custom");a.start=!1,a.end=!1,se.find(".day.checked").removeClass("checked"),a.setValue.call(le,t),C(),O(!0),S(),a.autoClose&&B()}),se.find("[shortcut]").click(function(){var t,n=e(this).attr("shortcut"),s=new Date,r=!1;if(n.indexOf("day")!=-1){var o=parseInt(n.split(",",2)[1],10);r=new Date((new Date).getTime()+864e5*o),s=new Date(s.getTime()+864e5*(o>0?1:-1))}else if(n.indexOf("week")!=-1){t=n.indexOf("prev,")!=-1?-1:1;var i;for(i=1==t?"monday"==a.startOfWeek?1:0:"monday"==a.startOfWeek?0:6,s=new Date(s.getTime()-864e5);s.getDay()!=i;)s=new Date(s.getTime()+864e5*t);r=new Date(s.getTime()+864e5*t*6)}else if(n.indexOf("month")!=-1)t=n.indexOf("prev,")!=-1?-1:1,r=1==t?F(s):R(s),r.setDate(1),s=F(r),s.setDate(1),s=new Date(s.getTime()-864e5);else if(n.indexOf("year")!=-1)t=n.indexOf("prev,")!=-1?-1:1,r=new Date,r.setFullYear(s.getFullYear()+t),r.setMonth(0),r.setDate(1),s.setFullYear(s.getFullYear()+t),s.setMonth(11),s.setDate(31);else if("custom"==n){var d=e(this).html();if(a.customShortcuts&&a.customShortcuts.length>0)for(var l=0;l<a.customShortcuts.length;l++){var u=a.customShortcuts[l];if(u.name==d){var c=[];if(c=u.dates.call(),c&&2==c.length&&(r=c[0],s=c[1]),c&&1==c.length){var m=c[0];I(m,"month1"),I(F(m),"month2"),z()}break}}}r&&s&&(Y(r,s),C())}),se.find(".time1 input[type=range]").on("change touchmove",function(t){var a=t.target,n="hour"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0,s="minute"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0;h("time1",n,s)}),se.find(".time2 input[type=range]").on("change touchmove",function(t){var a=t.target,n="hour"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0,s="minute"==a.name?e(a).val().replace(/^(\d{1})$/,"0$1"):void 0;h("time2",n,s)})}function r(){if(!a.inline){var t=e(de).offset();if("relative"==e(a.container).css("position")){var n=e(a.container).offset();se.css({top:t.top-n.top+e(de).outerHeight()+4,left:t.left-n.left})}else t.left<460?se.css({top:t.top+e(de).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left}):se.css({top:t.top+e(de).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left+e(de).width()-se.width()-16})}}function o(){return se}function i(t){r(),L(),d(),a.customOpenAnimation?a.customOpenAnimation.call(se.get(0),function(){e(de).trigger("datepicker-opened",{relatedTarget:se})}):se.slideDown(t,function(){e(de).trigger("datepicker-opened",{relatedTarget:se})}),e(de).trigger("datepicker-open",{relatedTarget:se}),z(),u()}function d(){var e=a.getValue.call(le),n=e?e.split(a.separator):"";if(n&&(1==n.length&&a.singleDate||n.length>=2)){var s=a.format;s.match(/Do/)&&(s=s.replace(/Do/,"D"),n[0]=n[0].replace(/(\d+)(th|nd|st)/,"$1"),n.length>=2&&(n[1]=n[1].replace(/(\d+)(th|nd|st)/,"$1"))),ie=!1,n.length>=2?Y(l(n[0],s,t.locale(a.language)),l(n[1],s,t.locale(a.language))):1==n.length&&a.singleDate&&j(l(n[0],s,t.locale(a.language))),ie=!0}}function l(e,a,n){return t(e,a,n).isValid()?t(e,a,n).toDate():t().toDate()}function u(){var e=se.find(".gap").css("margin-left");e&&(e=parseInt(e));var t=se.find(".month1").width(),a=se.find(".gap").width()+(e?2*e:0),n=se.find(".month2").width();se.find(".month-wrapper").width(t+a+n)}function c(e,a){se.find("."+e+" input[type=range].hour-range").val(t(a).hours()),se.find("."+e+" input[type=range].minute-range").val(t(a).minutes()),h(e,t(a).format("HH"),t(a).format("mm"))}function m(e,n){a[e]=parseInt(t(parseInt(n)).startOf("day").add(t(a[e+"Time"]).format("HH"),"h").add(t(a[e+"Time"]).format("mm"),"m").valueOf())}function f(){c("time1",a.start),c("time2",a.end)}function h(e,n,s){function r(e,t){var r=t.format("HH"),o=t.format("mm");a[e]=t.startOf("day").add(n||r,"h").add(s||o,"m").valueOf()}switch(n&&se.find("."+e+" .hour-val").text(n),s&&se.find("."+e+" .minute-val").text(s),e){case"time1":a.start&&r("start",t(a.start)),r("startTime",t(a.startTime||t().valueOf()));break;case"time2":a.end&&r("end",t(a.end)),r("endTime",t(a.endTime||t().valueOf()))}C(),O(),S()}function p(){a.start=!1,a.end=!1,se.find(".day.checked").removeClass("checked"),se.find(".day.last-date-selected").removeClass("last-date-selected"),se.find(".day.first-date-selected").removeClass("first-date-selected"),a.setValue.call(le,""),C(),O(),S()}function v(e){var n=e;return"week-range"===a.batchMode?n="monday"===a.startOfWeek?t(parseInt(e)).startOf("isoweek").valueOf():t(parseInt(e)).startOf("week").valueOf():"month-range"===a.batchMode&&(n=t(parseInt(e)).startOf("month").valueOf()),n}function g(e){var n=e;return"week-range"===a.batchMode?n="monday"===a.startOfWeek?t(parseInt(e)).endOf("isoweek").valueOf():t(parseInt(e)).endOf("week").valueOf():"month-range"===a.batchMode&&(n=t(parseInt(e)).endOf("month").valueOf()),n}function y(n){if(!n.hasClass("invalid")){var s=n.attr("time");if(n.addClass("checked"),a.singleDate?(a.start=s,a.end=!1):"week"===a.batchMode?"monday"===a.startOfWeek?(a.start=t(parseInt(s)).startOf("isoweek").valueOf(),a.end=t(parseInt(s)).endOf("isoweek").valueOf()):(a.end=t(parseInt(s)).endOf("week").valueOf(),a.start=t(parseInt(s)).startOf("week").valueOf()):"workweek"===a.batchMode?(a.start=t(parseInt(s)).day(1).valueOf(),a.end=t(parseInt(s)).day(5).valueOf()):"weekend"===a.batchMode?(a.start=t(parseInt(s)).day(6).valueOf(),a.end=t(parseInt(s)).day(7).valueOf()):"month"===a.batchMode?(a.start=t(parseInt(s)).startOf("month").valueOf(),a.end=t(parseInt(s)).endOf("month").valueOf()):a.start&&a.end||!a.start&&!a.end?(a.start=v(s),a.end=!1):a.start&&(a.end=g(s),a.time.enabled&&m("end",a.end)),a.time.enabled&&(a.start&&m("start",a.start),a.end&&m("end",a.end)),!a.singleDate&&a.start&&a.end&&a.start>a.end){var r=a.end;a.end=g(a.start),a.start=v(r),a.time.enabled&&a.swapTime&&f()}a.start=parseInt(a.start),a.end=parseInt(a.end),M(),a.start&&!a.end&&(e(de).trigger("datepicker-first-date-selected",{date1:new Date(a.start)}),b(n)),k(s),C(),O(),S(),x()}}function w(e){var n,s,r=parseInt(e.attr("data-start-time"),10);a.startWeek?(se.find(".week-number-selected").removeClass("week-number-selected"),n=new Date(r<a.startWeek?r:a.startWeek),s=new Date(r<a.startWeek?a.startWeek:r),a.startWeek=!1,a.start=t(n).day("monday"==a.startOfWeek?1:0).valueOf(),a.end=t(s).day("monday"==a.startOfWeek?7:6).valueOf()):(a.startWeek=r,e.addClass("week-number-selected"),n=new Date(r),a.start=t(n).day("monday"==a.startOfWeek?1:0).valueOf(),a.end=t(n).day("monday"==a.startOfWeek?7:6).valueOf()),k(),C(),O(),S(),x()}function D(e){if(e=parseInt(e,10),a.startDate&&N(e,a.startDate)<0)return!1;if(a.endDate&&N(e,a.endDate)>0)return!1;if(a.start&&!a.end&&!a.singleDate){if(a.maxDays>0&&T(e,a.start)>a.maxDays)return!1;if(a.minDays>0&&T(e,a.start)<a.minDays)return!1;if(a.selectForward&&e<a.start)return!1;if(a.selectBackward&&e>a.start)return!1;if(a.beforeShowDay&&"function"==typeof a.beforeShowDay){for(var t=!0,n=e;T(n,a.start)>1;){var s=a.beforeShowDay(new Date(n));if(!s[0]){t=!1;break}if(Math.abs(n-a.start)<864e5)break;n>a.start&&(n-=864e5),n<a.start&&(n+=864e5)}if(!t)return!1}}return!0}function k(){return se.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),a.start&&!a.end&&se.find(".day.toMonth.valid").each(function(){var t=parseInt(e(this).attr("time"),10);D(t)?e(this).addClass("valid tmp").removeClass("invalid"):e(this).addClass("invalid tmp").removeClass("valid")}),!0}function b(t){var n=parseInt(t.attr("time")),s="";if(t.hasClass("has-tooltip")&&t.attr("data-tooltip"))s='<span style="white-space:nowrap">'+t.attr("data-tooltip")+"</span>";else if(!t.hasClass("invalid"))if(a.singleDate)se.find(".day.hovering").removeClass("hovering"),t.addClass("hovering");else if(se.find(".day").each(function(){var t=parseInt(e(this).attr("time"));a.start,a.end;t==n?e(this).addClass("hovering"):e(this).removeClass("hovering"),a.start&&!a.end&&(a.start<t&&n>=t||a.start>t&&n<=t)?e(this).addClass("hovering"):e(this).removeClass("hovering")}),a.start&&!a.end){var r=T(n,a.start);a.hoveringTooltip&&("function"==typeof a.hoveringTooltip?s=a.hoveringTooltip(r,a.start,n):a.hoveringTooltip===!0&&r>1&&(s=r+" "+te("days")))}if(s){var o=t.offset(),i=se.offset(),d=o.left-i.left,l=o.top-i.top;d+=t.width()/2;var u=se.find(".date-range-length-tip"),c=u.css({visibility:"hidden",display:"none"}).html(s).width(),m=u.height();d-=c/2,l-=m,setTimeout(function(){u.css({left:d,top:l,display:"block",visibility:"visible"})},10)}else se.find(".date-range-length-tip").hide()}function M(){se.find(".day.hovering").removeClass("hovering"),se.find(".date-range-length-tip").hide()}function x(){a.singleDate===!0?ie&&a.start&&a.autoClose&&B():ie&&a.start&&a.end&&a.autoClose&&B()}function C(){var e=Math.ceil((a.end-a.start)/864e5)+1;a.singleDate?a.start&&!a.end?se.find(".drp_top-bar").removeClass("error").addClass("normal"):se.find(".drp_top-bar").removeClass("error").removeClass("normal"):a.maxDays&&e>a.maxDays?(a.start=!1,a.end=!1,se.find(".day").removeClass("checked"),se.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(te("less-than").replace("%d",a.maxDays))):a.minDays&&e<a.minDays?(a.start=!1,a.end=!1,se.find(".day").removeClass("checked"),se.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(te("more-than").replace("%d",a.minDays))):a.start||a.end?se.find(".drp_top-bar").removeClass("error").addClass("normal"):se.find(".drp_top-bar").removeClass("error").removeClass("normal"),a.singleDate&&a.start&&!a.end||!a.singleDate&&a.start&&a.end?se.find(".apply-btn").removeClass("disabled"):se.find(".apply-btn").addClass("disabled"),a.batchMode&&(a.start&&a.startDate&&N(a.start,a.startDate)<0||a.end&&a.endDate&&N(a.end,a.endDate)>0)&&(a.start=!1,a.end=!1,se.find(".day").removeClass("checked"))}function O(t,n){se.find(".start-day").html("..."),se.find(".end-day").html("..."),se.find(".selected-days").hide(),a.start&&se.find(".start-day").html(A(new Date(parseInt(a.start)))),a.end&&se.find(".end-day").html(A(new Date(parseInt(a.end))));var s;a.start&&a.singleDate?(se.find(".apply-btn").removeClass("disabled"),s=A(new Date(a.start)),a.setValue.call(le,s,A(new Date(a.start)),A(new Date(a.end))),ie&&!n&&e(de).trigger("datepicker-change",{value:s,date1:new Date(a.start)})):a.start&&a.end?(se.find(".selected-days").show().find(".selected-days-num").html(T(a.end,a.start)),se.find(".apply-btn").removeClass("disabled"),s=A(new Date(a.start))+a.separator+A(new Date(a.end)),a.setValue.call(le,s,A(new Date(a.start)),A(new Date(a.end))),ie&&!n&&e(de).trigger("datepicker-change",{value:s,date1:new Date(a.start),date2:new Date(a.end)})):t?se.find(".apply-btn").removeClass("disabled"):se.find(".apply-btn").addClass("disabled")}function T(e,t){return Math.abs(Q(e)-Q(t))+1}function Y(e,t,n){if(e.getTime()>t.getTime()){var s=t;t=e,e=s,s=null}var r=!0;return a.startDate&&N(e,a.startDate)<0&&(r=!1),a.endDate&&N(t,a.endDate)>0&&(r=!1),r?(a.start=e.getTime(),a.end=t.getTime(),a.time.enabled&&(c("time1",e),c("time2",t)),(a.stickyMonths||N(e,t)>0&&0===V(e,t))&&(a.lookBehind?e=R(t):t=F(e)),a.stickyMonths&&a.endDate!==!1&&V(t,a.endDate)>0&&(e=R(e),t=R(t)),a.stickyMonths||0===V(e,t)&&(a.lookBehind?e=R(t):t=F(e)),I(e,"month1"),I(t,"month2"),z(),C(),O(!1,n),void x()):(I(a.startDate,"month1"),I(F(a.startDate),"month2"),void z())}function j(e){var t=!0;if(a.startDate&&N(e,a.startDate)<0&&(t=!1),a.endDate&&N(e,a.endDate)>0&&(t=!1),!t)return void I(a.startDate,"month1");if(a.start=e.getTime(),a.time.enabled&&c("time1",e),I(e,"month1"),a.singleMonth!==!0){var n=F(e);I(n,"month2")}z(),O(),x()}function S(){(a.start||a.end)&&(se.find(".day").each(function(){var n=parseInt(e(this).attr("time")),s=a.start,r=a.end;a.time.enabled&&(n=t(n).startOf("day").valueOf(),s=t(s||t().valueOf()).startOf("day").valueOf(),r=t(r||t().valueOf()).startOf("day").valueOf()),a.start&&a.end&&r>=n&&s<=n||a.start&&!a.end&&t(s).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).addClass("checked"):e(this).removeClass("checked"),a.start&&t(s).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).addClass("first-date-selected"):e(this).removeClass("first-date-selected"),a.end&&t(r).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).addClass("last-date-selected"):e(this).removeClass("last-date-selected")}),se.find(".week-number").each(function(){e(this).attr("data-start-time")==a.startWeek&&e(this).addClass("week-number-selected")}))}function I(n,s){if(n=t(n).toDate(),se.find("."+s+' .month-name select[name="monthsel"]').is("*"))se.find("."+s+' .month-name select[name="monthsel"]').val(n.getMonth());else{var r=e("<select>").attr("name","monthsel");e.each(te("month-name"),function(t,a){r.append(e("<option></option>").attr("value",t).text(a))}),se.find("."+s+" .month-name").append(r)}if(se.find("."+s+' .month-name select[name="yearsel"]').is("*"))se.find("."+s+' .month-name select[name="yearsel"]').val(n.getFullYear());else{for(var o=e("<select>").attr("name","yearsel"),i=n.getFullYear();i>n.getFullYear()-30;i--)o.append(e("<option></option>").attr("value",i).text(i));se.find("."+s+" .month-name").append(o)}se.find("."+s+" tbody").html(K(n)),a[s]=n,k(),P()}function P(){se.find(".day").off("click").click(function(t){y(e(this))}),se.find(".day").off("mouseenter").mouseenter(function(t){b(e(this))}),se.find(".day").off("mouseleave").mouseleave(function(e){se.find(".date-range-length-tip").hide(),a.singleDate&&M()}),se.find(".week-number").off("click").click(function(t){w(e(this))})}function W(e,t){se.find("."+t).append(H()),c(t,e)}function A(e){return t(e).format(a.format)}function z(){S();var e=parseInt(t(a.month1).format("YYYYMM")),n=parseInt(t(a.month2).format("YYYYMM")),s=Math.abs(e-n),r=s>1&&89!=s;r?se.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):se.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var o=se.find("table.month1").height(),i=se.find("table.month2").height();se.find(".gap").height(Math.max(o,i)+10)}function B(){if(!a.alwaysOpen){var t=function(){e(de).data("date-picker-opened",!1),e(de).trigger("datepicker-closed",{relatedTarget:se})};a.customCloseAnimation?a.customCloseAnimation.call(se.get(0),t):e(se).slideUp(a.duration,t),e(de).trigger("datepicker-close",{relatedTarget:se})}}function L(){I(a.month1,"month1"),I(a.month2,"month2")}function V(e,a){var n=parseInt(t(e).format("YYYYMM"))-parseInt(t(a).format("YYYYMM"));return n>0?1:0===n?0:-1}function N(e,a){var n=parseInt(t(e).format("YYYYMMDD"))-parseInt(t(a).format("YYYYMMDD"));return n>0?1:0===n?0:-1}function F(e){return t(e).add(1,"months").toDate()}function R(e){return t(e).add(-1,"months").toDate()}function H(){return"<div><span>"+te("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+te("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+te("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'}function $(){var t='<div class="date-picker-wrapper';a.extraClass&&(t+=" "+a.extraClass+" "),a.singleDate&&(t+=" single-date "),a.showShortcuts||(t+=" no-shortcuts "),a.showTopbar||(t+=" no-topbar "),a.customTopBar&&(t+=" custom-topbar "),t+='">',a.showTopbar&&(t+='<div class="drp_top-bar">',a.customTopBar?("function"==typeof a.customTopBar&&(a.customTopBar=a.customTopBar()),t+='<div class="custom-top">'+a.customTopBar+"</div>"):(t+='<div class="normal-top"><span style="color:#333">'+te("selected")+' </span> <b class="start-day">...</b>',a.singleDate||(t+=' <span class="separator-day">'+a.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+te("days")+")</i>"),t+="</div>",t+='<div class="error-top">error</div><div class="default-top">default</div>'),t+='<input type="button" class="apply-btn disabled'+_()+'" value="'+te("apply")+'" />',t+="</div>");var n=a.showWeekNumbers?6:5,s="&lt;";a.customArrowPrevSymbol&&(s=a.customArrowPrevSymbol);var r="&gt;";if(a.customArrowNextSymbol&&(r=a.customArrowNextSymbol),t+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <span class="prev">'+s+'                   </span>               </th>               <th colspan="'+n+'" class="month-name">               </th>               <th style="width:27px;">'+(a.singleDate||!a.stickyMonths?'<span class="next">'+r+"</span>":"")+'               </th>           </tr>           <tr class="week-name">'+E()+"       </thead>       <tbody></tbody>   </table>",G()&&(t+='<div class="gap">'+J()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(a.stickyMonths?"":'<span class="prev">'+s+"</span>")+'       </th>       <th colspan="'+n+'" class="month-name">       </th>       <th style="width:27px;">           <span class="next">'+r+'</span>       </th>   </tr>   <tr class="week-name">'+E()+"   </thead>   <tbody></tbody></table>"),t+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',a.singleDate||(t+='<div class="time2"></div>'),t+='</div><div style="clear:both;height:0;font-size:0;"></div></div>',t+='<div class="footer">',a.showShortcuts){t+='<div class="shortcuts"><b>'+te("shortcuts")+"</b>";var o=a.shortcuts;if(o){var i;if(o["prev-days"]&&o["prev-days"].length>0){t+='&nbsp;<span class="prev-days">'+te("past");for(var d=0;d<o["prev-days"].length;d++)i=o["prev-days"][d],i+=te(o["prev-days"][d]>1?"days":"day"),t+=' <a href="javascript:;" shortcut="day,-'+o["prev-days"][d]+'">'+i+"</a>";t+="</span>"}if(o["next-days"]&&o["next-days"].length>0){t+='&nbsp;<span class="next-days">'+te("following");for(var d=0;d<o["next-days"].length;d++)i=o["next-days"][d],i+=te(o["next-days"][d]>1?"days":"day"),t+=' <a href="javascript:;" shortcut="day,'+o["next-days"][d]+'">'+i+"</a>";t+="</span>"}if(o.prev&&o.prev.length>0){t+='&nbsp;<span class="prev-buttons">'+te("previous");for(var d=0;d<o.prev.length;d++)i=te("prev-"+o.prev[d]),t+=' <a href="javascript:;" shortcut="prev,'+o.prev[d]+'">'+i+"</a>";t+="</span>"}if(o.next&&o.next.length>0){t+='&nbsp;<span class="next-buttons">'+te("next");for(var d=0;d<o.next.length;d++)i=te("next-"+o.next[d]),t+=' <a href="javascript:;" shortcut="next,'+o.next[d]+'">'+i+"</a>";t+="</span>"}}if(a.customShortcuts)for(var d=0;d<a.customShortcuts.length;d++){var l=a.customShortcuts[d];t+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+l.name+"</a></span>"}t+="</div>"}if(a.showCustomValues&&(t+='<div class="customValues"><b>'+(a.customValueLabel||te("custom-values"))+"</b>",a.customValues))for(var d=0;d<a.customValues.length;d++){var u=a.customValues[d];t+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+u.value+'">'+u.name+"</a></span>"}return t+="</div></div>",e(t)}function _(){var e="";return a.autoClose===!0&&(e+=" hide"),""!==a.applyBtnClass&&(e+=" "+a.applyBtnClass),e}function E(){var e=a.showWeekNumbers?"<th>"+te("week-number")+"</th>":"";return"monday"==a.startOfWeek?e+"<th>"+te("week-1")+"</th><th>"+te("week-2")+"</th><th>"+te("week-3")+"</th><th>"+te("week-4")+"</th><th>"+te("week-5")+"</th><th>"+te("week-6")+"</th><th>"+te("week-7")+"</th>":e+"<th>"+te("week-7")+"</th><th>"+te("week-1")+"</th><th>"+te("week-2")+"</th><th>"+te("week-3")+"</th><th>"+te("week-4")+"</th><th>"+te("week-5")+"</th><th>"+te("week-6")+"</th>"}function q(e){return e=t(e),!(!a.startDate||!e.endOf("month").isBefore(a.startDate))||!(!a.endDate||!e.startOf("month").isAfter(a.endDate))}function J(){for(var e=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],t=0;t<20;t++)e.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');return e.push("</div>"),e.join("")}function G(){return!a.singleMonth}function Z(t,a,n){var s=e.extend(!0,{},t);e.each(a,function(e,t){var a=t(n);for(var r in a)s.hasOwnProperty(r)?s[r]+=a[r]:s[r]=a[r]});var r="";for(var o in s)s.hasOwnProperty(o)&&(r+=o+'="'+s[o]+'" ');return r}function Q(e){return Math.floor(U(e)/864e5)}function U(e){return t.isMoment(e)&&(e=e.toDate().getTime()),"object"==typeof e&&e.getTime&&(e=e.getTime()),"string"!=typeof e||e.match(/\d{13}/)||(e=t(e,a.format).toDate().getTime()),e=parseInt(e,10)-60*(new Date).getTimezoneOffset()*1e3}function K(e){var n=[];e.setDate(1);var s=(new Date(e.getTime()-864e5),new Date),r=e.getDay();0===r&&"monday"===a.startOfWeek&&(r=7);var o,i;if(r>0)for(var d=r;d>0;d--){var l=new Date(e.getTime()-864e5*d);i=D(l.getTime()),a.startDate&&N(l,a.startDate)<0&&(i=!1),a.endDate&&N(l,a.endDate)>0&&(i=!1),n.push({date:l,type:"lastMonth",day:l.getDate(),time:l.getTime(),valid:i})}for(var u=e.getMonth(),d=0;d<40;d++)o=t(e).add(d,"days").toDate(),i=D(o.getTime()),a.startDate&&N(o,a.startDate)<0&&(i=!1),a.endDate&&N(o,a.endDate)>0&&(i=!1),n.push({date:o,type:o.getMonth()==u?"toMonth":"nextMonth",day:o.getDate(),time:o.getTime(),valid:i});for(var c=[],m=0;m<6&&"nextMonth"!=n[7*m].type;m++){c.push("<tr>");for(var l=0;l<7;l++){var f="monday"==a.startOfWeek?l+1:l;o=n[7*m+f];var h=t(o.time).format("L")==t(s).format("L");if(o.extraClass="",o.tooltip="",o.valid&&a.beforeShowDay&&"function"==typeof a.beforeShowDay){var p=a.beforeShowDay(t(o.time).toDate());o.valid=p[0],o.extraClass=p[1]||"",o.tooltip=p[2]||"",""!==o.tooltip&&(o.extraClass+=" has-tooltip ")}var v={time:o.time,"data-tooltip":o.tooltip,"class":"day "+o.type+" "+o.extraClass+" "+(o.valid?"valid":"invalid")+" "+(h?"real-today":"")};0===l&&a.showWeekNumbers&&c.push('<td><div class="week-number" data-start-time="'+o.time+'">'+a.getWeekNumber(o.date)+"</div></td>"),c.push("<td "+Z({},a.dayTdAttrs,o)+"><div "+Z(v,a.dayDivAttrs,o)+">"+X(o.time,o.day)+"</div></td>")}c.push("</tr>")}return c.join("")}function X(e,t){return a.showDateFilter&&"function"==typeof a.showDateFilter?a.showDateFilter(e,t):t}function ee(){if("auto"==a.language){var t=navigator.language?navigator.language:navigator.browserLanguage;if(!t)return e.dateRangePickerLanguages["default"];t=t.toLowerCase();for(var n in e.dateRangePickerLanguages)if(t.indexOf(n)!==-1)return e.dateRangePickerLanguages[n];return e.dateRangePickerLanguages["default"]}return a.language&&a.language in e.dateRangePickerLanguages?e.dateRangePickerLanguages[a.language]:e.dateRangePickerLanguages["default"]}function te(t){var a=t.toLowerCase(),n=t in oe?oe[t]:a in oe?oe[a]:null,s=e.dateRangePickerLanguages["default"];return null==n&&(n=t in s?s[t]:a in s?s[a]:""),n}function ae(){var e=a.defaultTime?a.defaultTime:new Date;return a.lookBehind?(a.startDate&&V(e,a.startDate)<0&&(e=F(t(a.startDate).toDate())),a.endDate&&V(e,a.endDate)>0&&(e=t(a.endDate).toDate())):(a.startDate&&V(e,a.startDate)<0&&(e=t(a.startDate).toDate()),a.endDate&&V(F(e),a.endDate)>0&&(e=R(t(a.endDate).toDate()))),a.singleDate&&(a.startDate&&V(e,a.startDate)<0&&(e=t(a.startDate).toDate()),a.endDate&&V(e,a.endDate)>0&&(e=t(a.endDate).toDate())),e}function ne(e){e||(e=ae()),a.lookBehind?(I(R(e),"month1"),I(e,"month2")):(I(e,"month1"),I(F(e),"month2")),a.singleDate&&I(e,"month1"),S(),z()}a||(a={}),a=e.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return e(this).val()},setValue:function(t){e(this).attr("readonly")||e(this).is(":disabled")||t==e(this).val()||e(this).val(t)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",
hoveringTooltip:function(e,t,a){return e>1?e+" "+te("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(e){return t(e).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},a),a.start=!1,a.end=!1,a.startWeek=!1,a.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,a.isTouchDevice&&(a.hoveringTooltip=!1),"auto"==a.singleMonth&&(a.singleMonth=e(window).width()<480),a.singleMonth&&(a.stickyMonths=!1),a.showTopbar||(a.autoClose=!0),a.startDate&&"string"==typeof a.startDate&&(a.startDate=t(a.startDate,a.format).toDate()),a.endDate&&"string"==typeof a.endDate&&(a.endDate=t(a.endDate,a.format).toDate());var se,re,oe=ee(),ie=!1,de=this,le=e(de).get(0);return e(this).off(".datepicker").on("click.datepicker",function(e){var t=se.is(":visible");t||i(a.duration)}).on("change.datepicker",function(e){d()}).on("keyup.datepicker",function(){try{clearTimeout(re)}catch(e){}re=setTimeout(function(){d()},2e3)}),s.call(this),a.alwaysOpen&&i(0),e(this).data("dateRangePicker",{setStart:function(e){return"string"==typeof e&&(e=t(e,a.format).toDate()),a.end=!1,j(e),this},setEnd:function(e,n){var s=new Date;return s.setTime(a.start),"string"==typeof e&&(e=t(e,a.format).toDate()),Y(s,e,n),this},setDateRange:function(e,n,s){"string"==typeof e&&"string"==typeof n&&(e=t(e,a.format).toDate(),n=t(n,a.format).toDate()),Y(e,n,s)},clear:p,close:B,open:i,redraw:L,getDatePicker:o,resetMonthsView:ne,destroy:function(){e(de).off(".datepicker"),e(de).data("dateRangePicker",""),e(de).data("date-picker-opened",null),se.remove(),e(window).off("resize.datepicker",r),e(document).off("click.datepicker",B)}}),e(window).on("resize.datepicker",r),this}});